<%@ page import="org.springframework.context.ApplicationContext" %>
<%@ page import="org.springframework.web.context.support.WebApplicationContextUtils" %>
<%@ page import="org.parancoe.util.BaseConf" %>
<%@ page import="org.acegisecurity.context.SecurityContextHolder" %>
<%@ page import="org.acegisecurity.Authentication" %>
<%@ page import="it.jugpadova.Blos" %>

<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core_rt" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jstl/fmt_rt" %>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags" %>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %>
<%@ taglib prefix="authz" uri="http://acegisecurity.org/authz" %>
<%@ taglib uri="http://displaytag.sf.net" prefix="display" %>
<%@ page contentType="text/html;charset=UTF-8" language="java" pageEncoding="UTF-8" %>

<% String cp = request.getContextPath();
    pageContext.setAttribute("cp", cp);

    ApplicationContext ctx = WebApplicationContextUtils.getWebApplicationContext(request.getSession().getServletContext());

    BaseConf conf = (BaseConf) ctx.getBean("conf");
    pageContext.setAttribute("conf", conf);  

    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();
    pageContext.setAttribute("authentication", authentication);

    Blos blos = (Blos)ctx.getBean("blos");
    pageContext.setAttribute("blos", blos);
    
%>



